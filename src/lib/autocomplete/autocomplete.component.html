<div #dropdownEl (keydown.ArrowDown)="_showDropdown()"(focusin)="_handleInputFocusChange(true)"
     (focusout)="_handleInputFocusChange(false)">
  <vx-input-wrapper [class.invalid]="_isInvalid()">
    <button #button vx-button *ngFor="let item of selectedItems" class="chip"
            (click)="_removeItem(item)" (keydown.backspace)="_removeItem(item)">
      {{ item.searchTxt }} <span class="delete">X</span>
    </button>

    <div class="noWrap">
      <input vxInput #input [placeholder]="placeholder" [tabIndex]="tabIndex" [disabled]="disabled"
             (focus)="_handleInputFocusChange(true)"
             (blur)="_handleInputFocusChange(false)"
             (click)="_showDropdown()"
             ngModel (ngModelChange)="_onInputChange($event)"
             [name]="name" (keydown.escape)="_closeDropdown()" [requiredLabel]="_required" (keydown.backspace)="_handleBackspace()">

      <div class="arrowContainer" (click)="_arrowClicked()">
        <div class="downArrow"></div>
      </div>
    </div>

  </vx-input-wrapper>
</div>

<vx-dropdown #dropdown [(visible)]="_dropdownVisible" (itemClick)="_onSelectItem($event)" [class.invalid]="_isInvalid()"
             (keydown.escape)="_closeDropdown()" [element]="dropdownEl"
             [offsetTop]="-2" [matchWidth]="true" class="autocompleteDropdown" [autoClose]="false">
  <ng-content select="vx-item" vx-dropdown-items></ng-content>
</vx-dropdown>
